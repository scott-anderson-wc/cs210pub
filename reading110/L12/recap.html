<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="author" content="Scott D. Anderson and the CS110 Staff">
        
    <title>CS110: The Date() Object</title>
    <style>
    TH.exp, TD.exp {font-family: monotype; font-size:110%; color: green;}
    TH.val, TD.val {font-family: monotype; font-size:110%; color: blue;}
    TH.note, TD.note {font-family: Verdana, Arial, sans-serif; font-style: italic; color: black;}
    table {margin: 0 auto;}
  </style>    
    <!--#include virtual="/~cs110/modularity/bs-head.part" -->
  </head>
    
  <body>
    <!--#include virtual="/~cs110/modularity/navbar.part" -->
    
    <div class="container">
      <h1>Javascript Recap<small></small></h1>
			<hr>
    </div>
        
    <div class="container">
      <div class="row">
            
         <!-- Three columns of the grid are reserved for the sidebar-->
        <div class="col-md-3">
          <div class="bs-sidebar hidden-print" role="complementary">
            <ul class="nav bs-sidenav">
              <li><a href="#recap">Values, Expressions, Statements</a></li>
							<li><a href="#re-assign">Re-assigning Variables</li>
							<li><a href="#good-re-assignment">Good re-assignment</a></li>
            </ul>  
          </div><!-- end of "bs-sidebar"-->
        </div><!--end of "col-md-3" div-->
					
					
	 <div class="col-md-8">	
				
   <h2 id="recap">Values, Expressions, Statements</h2>
  <p> What have we learned about JavaScript so far? 

<ul> 

<li><strong>Values</strong> include numbers, strings, booleans, dates, etc.

<li><strong>Expressions</strong> are program phrases that denote values. 
    They can be composed of different parts such as: literals (e.g., numbers, strings);
	  variable references; operators
    (e.g., <code>+</code>, <code>-</code>, <code>*</code>, 
           <code>/</code>, <code>%</code>); 
    function names (e.g., <code>prompt</code>, <code>parseInt</code>), 
    and method names (e.g., <code>querySelector</code>, <code>getMonth</code>). 
    
<li><strong>Statements</strong> are program phrases that perform actions. 
     Statements are <strong>executed</strong> sequentially from top to bottom 
     in a program. 

<p> Some statements we've seen so far are: 

    <ul>

      <li> <strong>function invocations</strong> like <code>alert(<i>exp</i>);</code>. 
      <li> <strong>method invocations</strong> like <code>document.querySelector(<i>exp</i>);</code>. 
      <li> <strong>variable declarations</strong> 
           of the form <code>var <i>variable-name</i>;</code>
      <li> <strong>variable assignments</strong> of the form <code>var <i>variable-name</i> = <i>exp</i>;</code> 
          or  <code><i>variable-name</i> = <i>exp</i>;</code></li>
    </ul>
<br>
<p>In variable assignments, <code>=</code> is pronouced "gets"
and <i>not</i> "equals". 

<p>In all of the above statements, <code><i>exp</i></code> can be <i>any</i>
expression, from a simple literal (like <code>17</code> or <code>"CS110"</code>)
or variable (like <code>num</code>) to a complex expression like

<blockquote>
<code>
   "The sum of the numbers is "<br>
   + (parseFloat(prompt("Enter number 1","17"))<br>
   &nbsp;&nbsp;&nbsp;+ parseFloat(prompt("Enter number 2","23")))
</code>
</blockquote>

<!--p>In variable assignments, the expression on the
right-hand side of <code>=</code> is first evaluated, and then the resulting value is
assigned to the variable on the left-hand side of <code>=</code>.
The difference between a variable declaration and an assignment is
that a declaration creates a new variable box whereas an assignment
refers to an existing box. -->

<p>If there is a variable declaration as a part of a statement, a new variable
	box in the memory is created and named. The assignment operator then assigns the 
	value on the right side of <code>=</code> to this box.</p>

<p><em>You should use descriptive names for variables</em> They
greatly help the development of correct programs.

</ul>

<p>Here's a sample sequence of variable declarations with assignments: 

<pre>
var small_num = 14;
var big_num = 33 * 10 + 1;
var sum = small_num + big_num;
</pre>

<p>In the first statement, the right-hand side is
a simple number value, 14, which is assigned to the variable
<code>small_num</code>. In the second statement, the right-hand side
is a more complex expression that evaluates to 331, which is then
assigned to <code>big_num</code>.  In the last statement, the
right-hand side is an expression involving the variables
<code>small_num</code> and <code>big_num</code>. Since
<code>small_num</code> has the value 14 and <code>big_num</code> has
the value 331 when this assignment occurs, the expression 
<code>small_num + big_num</code> evaluates to 345, 
which is then assigned to the variable <code>sum</code>.
         
<BLOCKQUOTE><TABLE cellpadding = "10" style = "font-family: monospace;">
 <TR> <TD>small_num = 14; </TD>
         <TD ALIGN = "center">
            <TABLE BORDER = "1"> <TR> <TD> 14 </TD> </TR> </TABLE>
            <br> small_num
         </TD>
 </TR>
 <TR> <TD>big_num = 33 * 10 + 1;</td>
         <TD ALIGN = "center">
            <TABLE BORDER = "1"> <TR> <TD> 14 </TD> </TR> </TABLE>
            <br> small_num
         </TD>
         <TD ALIGN = "center">
            <TABLE BORDER = "1"> <TR> <TD> 331 </TD> </TR> </TABLE>
            <br> big_num
         </TD>
 </TR>
 <TR> <TD>sum = small_num + big_num; </TD>
         <TD ALIGN = "center">
            <TABLE BORDER = "1"> <TR> <TD> 14 </TD> </TR> </TABLE>
            <br> small_num
         </TD>
         <TD ALIGN = "center">
            <TABLE BORDER = "1"> <TR> <TD> 331 </TD> </TR> </TABLE>
            <br> big_num
         </TD>
         <TD ALIGN = "center">
            <TABLE BORDER = "1"> <TR> <TD> 345 </TD> </TR> </TABLE>
            <br> sum
         </TD>
      </TR>
   </TABLE>
</BLOCKQUOTE>
         
<h4>Exercise</h4>

<p>Trace the execution of the following JavaScript code, drawing the
contents of memory cells after each assignment and listing the output of
each <CODE>alert()</CODE>.  You can test your hypothesis with the evaluation
box.
         
         <PRE>
var numA = 14;
var numB = 2 * numA;
alert("numA is " + numA + ", and numB is " +  numB);
numA = numB + numB;
alert("now, numA is " + numA + ", and numB is " +   numB);
            
var numC = (112 % 5) * 2;
var message = "numC is " + numC;
alert(message);
   
numC = 0;
alert(message);
alert("numC holds " + numC);
   
            </PRE>
         
         <FORM ACTION="" METHOD=POST name=ex1>
            <P>Type here:<BR>
            <TEXTAREA NAME=code ROWS=5 COLS=80></TEXTAREA><BR>
            <INPUT TYPE=button NAME=Button VALUE="Execute It" onclick="eval(document.ex1.code.value)">
         </FORM>
         
				
<h2 id="re-assign">Re-assigning Variables</h2>

<p>In many examples so far, we have created new variables to assign
  the next step of the calculation to.
  <ul>

    <li>Is there any limit to the number of variables in a Javascript (JS) program?
    No, not really.

    <li>Should you reduce or minimize the number of variables in a JS
    program?  No, not really.  You should use any variables that you feel
    makes your code clearer, easier to understand, and easier to debug.
    (Variables can help with debugging because you can print intermediate
    steps to check that part of the calculation.)

    <li>Is there any advantage to re-using a variable?  No.  In fact, in
    most cases, if you re-use a variable to hold a different value, you
    will increase the chance of confusing anyone reading your code,
    including yourself.  Thus, we <em>discourage</em> you from
    re-assigning to a variable (but see next section for more details).  

  </ul>

<p>Here's an example of poor use of re-assignment:
  
<form action="">
<div>
<textarea rows=10 cols=80>
var radius = 10;
var val = 2*radius*Math.PI;
alert("circumference is "+val);
val = Math.PI*radius*radius;
alert("area is "+val);
val = (4/3)*Math.PI*Math.pow(radius,3);
val = val.toFixed(3);
alert("volume of sphere is "+val);
</textarea><br>
<input type=button value="Execute it" 
       onclick="eval(this.parentNode.firstElementChild.value)">
</div>
</form>
<br>
<p>Ask yourself: what kind of value does <code>val</code> hold?  It
  depends on where in the code you're looking; it changes from place to
  place.  That's why we gave the variable such a vague and unhelpful name:
  we couldn't use anything more specific.  In fact, the value even
  changes <em>type</em> from place to place (in the last assignment,
  it becomes a string).  Since we know that the <code>+</code> operator
  treats strings differently from numbers, this sort of confusion can be a
  big problem.

<p>The moral here is that it's not good enough for the JavaScript program
to work. The underlying JavaScript code should be easy to read and
understand as well!

<h2 id="good-re-assignment">Good Re-assignment</h2>

<p>Is there <em>ever</em> a time when you should re-use a
  variable?  <strong>Yes.</strong>
</p>

<p>Let's turn to that now.  It makes sense to re-assign to a variable when
  it holds the same information (the same meaning and same type), but
  that the old value needs to be updated.  For example, suppose you are
  counting something, and the count has changed.  In an online shopping
  application, you might be counting the number of items the user has in
  her cart.  Suppose that the variable <code>item_count</code> stores the
  current number of items in the cart.   When she adds another item to the
  cart, you want to increase that variable's value by one.  Here's how:
  
<pre class="sh_javascript">
  item_count = item_count + 1;
</pre>

<p>Notice that if that were a mathematical equality statement, it would be
  impossible: no number can equal one more than itself.  But this is not
  equality, this is assignment, so it says to take the current value
  of <code>item_count</code>, add one to it, and store that value back
  into the variable.

<p>Below is a specific example, where we count mouse clicks. We are not
	showing the whole code of the example, but only the variable declarations,
	so that you are aware of where the values are being stored.
	
	<pre>
var start_time;
var stop_time;
var total_time = 0;
var click_count = 0;
</pre>

<script type="text/JavaScript">
var start_time;
var stop_time;
var total_time = 0;
var click_count = 0;
</script>

<form name="click_speed" action="">
  <div style="border: 2px dashed green; padding: 10px">
    <p>How fast can you click? Start the timing, then click like mad in
    the yellow area, and then stop the timing when you're done.
    <input type="button" value="reset"
           onclick="click_count=0;
                    total_time=0;
                    document.click_speed.clicks.value='';
                    document.click_speed.time.value='';
                    document.click_speed.speed.value='';
                    ">
    <input type="button" value="start timing"
           onclick="start_time = Date.now();">
    <input type="button" value="stop timing"
           onclick="stop_time = Date.now();
                    total_time += stop_time - start_time;
                    document.click_speed.clicks.value = click_count;
                    document.click_speed.time.value = total_time;
                    document.click_speed.speed.value = (1000*click_count/total_time).toFixed(2);
                    ">
    <p style="height:100px;background-color: yellow" onclick="click_count++">
      click here
    </p>
    <p>You clicked <input type="text" size="4" name="clicks"> times in
    <input type="text" size="5" name="time"> milliseconds, which is
    <input type="text" size="5" name="speed"> clicks per second.
  </div>
</form>

<p>Here's an execution box that will add one more click to your click
  count and report the current values.

<form action="">
<div>
<textarea rows=5 cols=80>
click_count = click_count + 1;  // add a fake click
alert("click_count is " + click_count)

</textarea><br>
<input type=button value="Execute it" 
       onclick="eval(this.parentNode.firstElementChild.value)">
</div>
</form>
<br>
<p>There are two things worth noticing from the code above:
<ol>
<li>When we re-assign a variable, we <em>omit</em>
  the <code>var</code> out front.  The <code>var</code> tells JavaScript
  that we are creating a new variable, and, of course, when we are
  re-assigning, we aren't creating a new variable.

<li>Remember that <code>=</code> should be read as "gets".  So in the
first line, we are <em>not</em> saying that click_count is equal to
click_count plus one.  That would be impossible!  Instead, we are saying
that the value assigned to click_count should be updated to the current
value of click_count plus one.

</ol>

			
   </div><!--end of "col-md-8"-->
            
 </div><!--end of "row"-->

    <!--#include virtual="/~cs110/modularity/footer.part" -->
    
    </div> <!--end of container>
        
        
    <!--#include virtual="/~cs110/modularity/bs-footer.part" -->
  </body>

</html>