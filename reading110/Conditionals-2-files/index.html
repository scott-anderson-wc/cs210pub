<!DOCTYPE html>

<!-- 
Eni: 10/3/2014
Divided the material in two lectures to make it easier to cover.

Eni: 3/2/2014: Commented out some examples, because we haven't covered dates
  * rewrote the examples in the Boolean values to be evaluated without having to
refresh the page (since that was not working). Also, removed the document.write
and used a function for the calculations.
-->

<!-- Scott 2011-10-06, added the example with confirm(). -->

<!-- [lyn, 3/19/2009] 
  * In string comparison table, added entries showing lexicographic comparisons. 
  * Added new Exercise 2 on comparing time (relevant to HW5). 
  --> 
<!-- [lyn, 3/16/2009] 
  * Fixed typos notices by Scott. 
  * Added examples of boolean expressions involving strings. 
  * Added a section title for Logical Operators.
  * Added execution boxes in a few spots where they were missing.
  * Modified HTML so that it validates
  * Put in the solutions to some exercises (the rest coming soon).
  -->
<!-- [lyn, 3/15/2009] 
  Changes: 
    * Added boolean material (not covered earlier) at the beginning of lecture,
      and removed it from if statement section. 
    * Reorganized exercises and added logical operator exercise and 
      rock/paper/scissors exercise. 
    * Explain some gotchas involving boolean expressions. 
    * Emphasize that parens around test in if statement are *mandatory*
    * Mention that {}s aren't necessary if only one statement. 
   Still to do: 
     * Examples of boolean expressions involving strings
     * List standard boolean simplification rules. 
     * Include exercise solutions
  -->
<!--Updated by Takis Oct 2002 to use examples from the Thau book -->

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="author" content="Scott D. Anderson and the CS110 Staff">
        
    <title>CS110: Booleans and Conditional Execution</title>
    
   <style>
    th.exp, td.exp {font-family: monotype; font-size:110%; color: green; text-align: center;}
    th.val, td.val {font-family: monotype; font-size:110%; color: blue; text-align:center;}
    th.note, td.note {font-family: Verdana, Arial, sans-serif; font-style: italic; color: black;}
    table {margin: 0 auto;}
    table table {margin: 0 15px;}
    table table td {text-align: center;}
    table table code {padding: 8px;}
    .input {color:blue; padding: 10px; line-height: 150%;}
    .output {color:red; padding: 10px; line-height: 150%;}
    .op {color:red; padding: 10px; line-height: 150%;}
    th {text-align: center;}
    textarea {
        margin-bottom: 10px;
        color: gray;
        font-weight: 200;
        font-family: "consolas", "Lucida Console", "Monaco", "DejaVu Sans Mono", monospace;
      } 
  </style>

</head>
        
    <!--#include virtual="/~cs110/modularity/bs-head.part" -->
  </head>
    
  <body>
    <!--#include virtual="/~cs110/modularity/navbar.part" -->
    
    <div class="container">
      <h1>Booleans and Conditional Execution &nbsp; <small>Part 1</small></h1>
      <hr>
       <div class="alert alert-info">
         We recommend that you read pages 77-92 from Chapter 3 of the book 
         <a href="http://shop.oreilly.com/product/0636920015048.do">Javascript and jQuery: The missing manual</a>.
         </div>
    </div>
        
    <div class="container">
      <div class="row">
            
        <!-- Three columns of the grid are reserved for the sidebar-->
        <div class="col-md-3">
          <div class="bs-sidebar hidden-print" role="complementary">
            <ul class="nav bs-sidenav">
              <li><a href="#decisions">Decisions</a></li>
              <li><a href="#booleans">Boolean Values</a></li>
              <li><a href="#if-statements"><code>if</code> statements</a></li>
            </ul>  
          </div><!-- end of "bs-sidebar"-->
        </div><!--end of "col-md-3" div-->
        
  <div class="col-md-8">
          <h2 id="decisions">Decisions, decisions, decisions ...</h2>
          
          <p>So far, 
            <!--all the JavaScript code that you have written-->
            the Javascript code we have seen has been executed
unconditionally. When we wrote a sequence of statements, those statements
were executed one after another, in order.
         
<p>Many programming tasks, however, require <strong>conditional control</strong>,
that is, the ability to react differently based upon some condition. For
example, consider the task of assigning students' letter grades. Depending
upon what the student's average is, a different letter grade must be
assigned (e.g., 93 to 100 is an A, 86 to 93 is a A-, etc.).  In this
lesson, you will be introduced to <strong>booleans</strong>, 
truth values that represent a decision, and to the 
<code>if</code> <strong>statement</strong>, which 
performs conditional execution based on a boolean value. 
Based upon some condition, an <code>if</code> statement can choose among alternative 
sequences of code to execute, or even choose to execute no code at all.

<p>Some examples, just to get us warmed up:

<!--form action="">
<div>
<textarea name="code" rows=6 cols=70>
var go = confirm("Go to Wikipedia article on Steve Jobs?");
if(go) {
    window.location="http://en.wikipedia.org/wiki/Steve_Jobs";
}
</textarea><br>
<input type=button value="Execute it" 
       onclick="eval(this.parentNode.firstElementChild.value)">
</div>
</form-->

  <div class="row">
<div class="col-md-7">
<textarea name="code" rows=6 cols=100>
var agree = confirm("Want to meet with Taylor Swift?");
if(agree) {
    window.location="http://taylorswift.com/splash";
}
</textarea><br>
<input type=button value="Execute it" 
       onclick="eval(this.parentNode.firstElementChild.value)">
</div>
<br><br>          
         
<!--form action="">
<div>
<textarea name="code" rows=7 cols=70>
var go = confirm("Go to Wikipedia article on Steve Jobs?");
if(go) {
    window.location="http://en.wikipedia.org/wiki/Steve_Jobs";
} else {
    alert("Well, think about him today.");
}
</textarea><br>
<input type=button value="Execute it" 
       onclick="eval(this.parentNode.firstElementChild.value)">
</div>
</form-->
          
<div style="margin-top:30px;" class="col-md-7">
<textarea name="code" rows=6 cols=100>
var agree = confirm("Want to meet with Taylor Swift?");
if(agree) {
    window.location="http://taylorswift.com/splash";
} else {
  alert("No problem, she's just a human.");
}
  
</textarea><br>
<input type=button value="Execute it" 
       onclick="eval(this.parentNode.firstElementChild.value)">
</div>        
</div>
    
<h2 id="booleans">Boolean Values</h2>

<p> The JavaScript values we have seen so far are numbers and strings.
  <!--, and <code>Date</code> objects. -->

<p> Today we meet the logical values <code>true</code> and <code>false</code>.
    These two values are called <strong>booleans</strong>. 
    They are named after George Boole, a 19th century English mathematician
    who developed an algebraic framework for reasoning about the manipulation
    of truth values. 

<p> A <strong>boolean expression</strong> is any expression whose value is
    a boolean value. The simplest boolean expressions are the boolean
    literals <code>true</code> and <code>false</code>, which can be written
    directly in a JavaScript program. However, in a program, it is more typical 
    for boolean values to be generated as the result of comparisons or other operations.

<p> For example, relational operators on numbers produce boolean values:

  <script>
  function evaluateAll(){
    var dqs = document.querySelector.bind(document);
    var numField = parseFloat(dqs('[name="numField"]').value)
    dqs('#val1').innerHTML =  (numField < 50); 
    dqs('#val2').innerHTML =  (numField <= 23); 
    dqs('#val3').innerHTML =  (numField == 57); 
    dqs('#val4').innerHTML =  (numField != 17); 
    dqs('#val5').innerHTML =  (numField > 110); 
    dqs('#val6').innerHTML =  (numField >= 42); 
  }
  </script>
  
  <!--form name="numTest" action=""-->
    <table border = "1">
      <tr>
        <th class = "exp">Expression</th>
        <th class = "val">Value</th>
        <th class = "note">Notes</th>
      </tr>
      <tr>
        <td class = "exp">num</td>
        <td class = "val">
          <input  type="number" name="numField" min=1 max=1000> 
          <button onclick="evaluateAll();">Evaluate all!</button>
        </td>
        <td class = "note">Type in a number to initialize the <code>num</code> variable.
          Then click the button so that all fields in the table are updated.
          <!--br>Reload the page to recalculate the values in this table.--></td>
      </tr>
      <tr>
        <td class = "exp">num < 50</td>
        <td class = "val" id="val1">
        </td>
        <td class = "note">less than</td>
      </tr>
      <tr>
        <td class = "exp">num <= 23</td>
        <td class = "val" id="val2">
        </td>
        <td class = "note">less than or equal to</td>
      </tr>
      <tr>
        <td class = "exp">num == 57</td>
        <td class = "val" id="val3">
        </td>
        <td class = "note">equal to (<code>==</code> tests equality, but <code>=</code> performs assignment!)</td>
      </tr>
      <tr>
        <td class = "exp">num != 17</td>
        <td class = "val" id="val4">
        </td>
        <td class = "note">not equal to</td>
      </tr>
      <tr>
        <td class = "exp">num > 110</td>
        <td class = "val" id="val5">
        </td>
        <td class = "note">greater than</td>
      </tr>
      <tr>
        <td class = "exp">num >= 42</td>
        <td class = "val" id="val6">
        </td>
        <td class = "note">greater than or equal to</td>
      </tr>
    </table>


<!--p>A boolean value can be used in an <code>alert()</code> or
   <code>document.write()</code> statement, where it displays
   as <code>true</code> or <code>false</code>. Use this execution 
   box to experiment with boolean expressions:
<form name="exBool" action="">
<p><textarea name="code" rows="3" cols="60">
alert(14 < 42); </textarea><br>
<input type="button" name="button" value="Execute It" 
       onclick="eval(document.exBool.code.value);">
</form>

<p>We can combine numeric comparisons with <code>Date</code> operations to 
make tests involving time: 
<p>
    <table border = "1">
      <tr>
        <th class = "exp">Expression</th>
        <th class = "val">Value</th>
        <th class = "note">Notes</th>
      </tr>
      <tr>
        <td class = "exp">(new Date()).getDay() == 0</td>
        <td class = "val">
           <script type="text/javascript">
             document.write((new Date()).getDay() == 0); 
           </script>
        </td>
        <td class = "note">Is it Sunday? (Recall, 0 is Sun, 1 is Mon, ...)</td>
      </tr>
      <tr>
        <td class = "exp">(new Date()).getHours() < 12</td>
        <td class = "val">
           <script type="text/javascript">
             document.write((new Date()).getHours() < 12); 
           </script>
        </td>
        <td class = "note">Is it morning (before noon)?</td>
      </tr>
    </table-->

<br>
<p>Here are some examples of boolean expressions involving strings: 

  <script>
    function evaluateStr(){
      var dQs = document.querySelector.bind(document);
      var strField = dQs('[name="strField"]').value;
      dQs('#str1').innerHTML =  (strField == "CS110 rocks!");   
      dQs('#str2').innerHTML =  (strField != "Grover");
      dQs('#str3').innerHTML =  (strField <= "CS111 is cool!");
      dQs('#str4').innerHTML =  (strField > "CS24 isn't a course");
      dQs('#str5').innerHTML =  (strField.length == 12); 
      dQs('#str6').innerHTML =  (strField.indexOf("110") == 2);  
      dQs('#str7').innerHTML =  (strField.indexOf("Rocks") == -1); 
      dQs('#str8').innerHTML =  (strField.charAt(1) == "S"); 
    }
  </script>
  
    <table border = "1">
      <tr>
        <th class = "exp">Expression</th>
        <th class = "val">Value</th>
        <th class = "note">Notes</th>
      </tr>
      <tr>
        <td class = "exp">str</td>
        <td class = "val">
          <input  type="text" name="strField" value="CS110 rocks!" size=10>
          <button onclick="evaluateStr();">Evaluate all!</button>
        </td>
        <td class = "note">Type in a different string to change the <code>str</code> variable.
          Then click the button so that all fields in the table are updated.
          <!--br>(Do not use any quotation marks)<br>Reload the page to recalculate the values in this table.-->
        </td>
      </tr>
      <tr>
        <td class = "exp">str == "CS110 rocks!"</td>
        <td class = "val" id="str1">
        </td>
        <td class = "note"><code>==</code> also tests equality of strings</td>
      </tr>
      <tr>
        <td class = "exp">str != "Grover"</td>
        <td class = "val" id="str2">
        </td>
        <td class = "note"><code>!=</code> also tests inequality on strings</td>
      </tr>
      <tr>
        <td class = "exp">str <= "CS111 is cool!"</td>
        <td class = "val" id="str3">
        </td>
        <td class = "note">Strings are compared lexicographically (in dictionary order)</td>
      </tr>
      <tr>
        <td class = "exp">str > "CS24 isn't a course"</td>
        <td class = "val" id="str4">
        </td>
        <td class = "note">Careful! Numbers in strings are also treated lexicographically.</td>
      </tr>
      <tr>
        <td class = "exp">str.length == 12</td>
        <td class = "val" id="str5">
        </td>
        <td class = "note"><code><i>s</i>.length</code> returns the number of characters in <code><i>s</i></code></td>
      </tr>
      <tr>
        <td class = "exp">str.indexOf("110") == 2</td>
        <td class = "val" id="str6">
        </td>
        <td class = "note"><code><i>s1</i>.indexOf(<i>s2</i>)</code> returns the first (0-based) index of <code><i>s2</i></code> in <code><i>s1</i></code></td>
      </tr>
      <tr>
        <td class = "exp">str.indexOf("Rocks") == -1</td>
        <td class = "val" id="str7">
        </td>
        <td class = "note"><code>indexOf</code> returns -1 if string isn't found</td>
      </tr>
      <tr>
        <td class = "exp">str.charAt(1) == "S"</td>
        <td class = "val" id="str8">
        </td>
        <td class = "note"><code><i>s</i>.charAt(<i>i</i>)</code> returns the character
         at (0-based) index <code><i>i</i></code> in <code><i>s</i></code><br>
         (In JS, a character is just a one-character string.)</td>
      </tr>
    </table>

      
<h2 id="if-statements"><code>if</code> Statements</h2>
         
<P><EM>Conditional execution</EM> refers to the ability to execute a
statement or sequence of statements only if some condition holds. The
simplest form of conditional statement involves only one possible
action. For example, displaying a message when the value of a variable
is <code>"Grover"</code>.  However, conditional execution can also
involve alternatives based on the same or related conditions. For
example, we might want to display one message if the variable value is
"Grover" and another message if it isn't. This type of conditional
execution in JavaScript is performed using <code>if</code>
statements.
         
<P>The following example uses an <code>if</code> statement to
greet Grover specially.  Let's say we have gotten the name of the
visitor stored in a variable <CODE>first_name</CODE>.  The symbol
<CODE>==</CODE> is used in JavaScript to test for equality
(remember, just one <CODE>=</CODE> is for assignments!).
         
<form action="">
<div>
<textarea name="code" rows=5 cols=70>
var first_name = prompt("What's your first name?");
if (first_name == "Grover") {
    alert("Hello Grover, great to see you!");
}
</textarea><br>
<input type=button value="Execute it" 
       onclick="eval(this.parentNode.firstElementChild.value)">
</div>
</form>
         
<P>The following example uses the other form of an <code>if </code>
statement to greet Grover and to be a bit hostile to everyone else.
         
<form action="">
<div>
<textarea name="code" rows=7 cols=70>
var first_name = prompt("What's your first name?");
if (first_name == "Grover") {
    alert("Hello Grover, great to see you!");
} else {
    alert("Who the heck is " + first_name + "?");
}
</textarea><br>
<input type=button value="Execute it" 
       onclick="eval(this.parentNode.firstElementChild.value)">
</div>
</form>
         
<P>In the first example, an alert box is displayed only if the
condition <CODE>(first_name == "Grover")</CODE> holds.  If the
condition does not hold, then nothing special happens: the next
JavaScript statement (if there is one) is evaluated.  

<p>The second example includes an <code>else</code> case which
specifies the action to be taken when the condition does not hold
(i.e., <CODE>first_name</CODE> is not equal to
<CODE>"Grover"</CODE>).  

<p><em>In an <code>if-else</code> statement, exactly one of the two
actions will be executed.</em>
         
<P>In general, an <code>if</code> statement looks like this:
         
<pre>
    if (BOOLEAN_EXPRESSION) { <span style="color:red">  // This is called the "test expression"</span>
        STATEMENTS_IF_TRUE <span style="color:red">     // This is called the "then arm" or "then branch"</span>
    } <span style = "font-style: italic;">else {
        STATEMENTS_IF_FALSE <span style="color:red">    // This is called the "else arm" or "else branch"</span>
    }</span>
</pre>

<p>The <code>else</code> part is <em>optional.</em>

<P>Try an example here, testing whether a number is positive.

<form action="" > 
<p><textarea rows="4" cols="80">
var num = parseFloat(prompt("Enter any number"));
if (num &gt; 0) {
     alert("the number is positive");
}</textarea><br>
<input type=button value="Execute it" 
       onclick="eval(this.parentNode.firstElementChild.value)">
</form>
         
<P>The test in an <code>if</code> statement can be any boolean
expression, that is, any expression that evaluates to either
<CODE>true</CODE> or <CODE>false</CODE>.  

<div class="bs-callout bs-callout-danger" id="exPositive">
<h4>Exercise 1</h4>
<p>Add an <code>else</code> case to the <code>if</code> statement
so that it displays an appropriate message in the event that the
number is not positive.  Test your modified page on various inputs and
list the results. What will be displayed when the number is 0?

<form action="" > 
<p><textarea rows="7" cols="60">
var num = parseFloat(prompt("Enter any num"));
if (num &gt; 0) {
     alert("the number is positive");
}
</textarea><br>
<input type=button value="Execute it" 
       onclick="eval(this.parentNode.firstElementChild.value)">
</form>

</div>         

<h4>Gotchas</h4>

<ul>

<li>The parentheses around the test expression in an <code>if</code> statement
are <strong>mandatory</strong>. So you <em>cannot</em> write

<pre>
if <span style="color:red">input_num > 0</span> { // missing required parens for test expression
     alert("the number is positive");
}
</pre>

<li>If there is only one statement in an arm of the conditional, 
the braces are optional. For example, the following is legal:

<pre>
if (input_num > 0) 
     alert("the number is positive"); // No braces for then arm
</pre>

<p>However, we recommend that you always use braces to avoid bugs
that come from adding more statements to the <em>then</em> arm.
  <!--that are illustrated by the following examples: 

<form name="exGotcha1" action="" method="post">
<p>
<textarea name="code" rows="8" cols="60">
var num = parseFloat(prompt("Enter any num"));

// What does this do for numbers <= 0? 
if (num &gt; 0) 
     document.write("the number ");
     document.write(num);
     document.write(" is positive.");</textarea><br>
<input type="button" name="button" value="Execute It" 
       onclick="eval(document.exGotcha1.code.value);">
</form-->

</ul>

<!-- Cannot do this example, because haven't done Date() object -->
<!--div id="minuteSecondExercise" class="ex" style="margin-top: 3ex;"><span class="ex">Exercise 4:</span>

<p>Consider the following code for displaying the current time:

<form name="exMinuteSecond" action="">
<p><textarea name="code" rows="10" cols="80">
var now = new Date();
var hours = now.getHours();
var minutes = now.getMinutes();
var seconds = now.getSeconds();
var timeString = hours + ":" + minutes + ":" + seconds;
alert ("The time is now " + timeString);</textarea><br>
<input type="button" name="button" value="Execute It" 
       onclick="eval(document.exMinuteSecond.code.value);">
</form>

<ol>

<li>At 9:07:03PM, what time will be displayed by the above code?

<li>Modify the above code so that it will display times in a format
like 9:07:03PM -- i.e., so that it uses AM and PM and puts a 0 in front
of single digits for minutes and seconds. 

<li> Another approach to checking if a time is in a certain range 
(see <a href="#exTimeComparison">Exercise 2</a>) is to
convert all the times to strings and use string comparison to compare them. 
Flesh out the skeleton below to implement this idea: 

<form name="exCompareTimeStrings" action="">
<p><textarea name="code" rows="8" cols="80">
var hour = parseFloat(prompt("Enter the hour (0 -- 23)")); 
var min = parseFloat(prompt("Enter the minute (0 -- 59)"));
... flesh out one or more statements here ...
alert ( ("08:30" <= inputString) && (inputString <= "12:20") );</textarea><br>
<input type="button" name="button" value="Execute It" 
       onclick="eval(document.exCompareTimeStrings.code.value);">
</form>

</ol>

</div-->
         
 

                   
  </div><!--end of "col-md-9"-->
            
      </div><!--end of "row"-->

    <!--#include virtual="/~cs110/modularity/footer.part" -->
    
    </div> <!--end of container>
        
        
    <!--#include virtual="/~cs110/modularity/bs-footer.part" -->
  </body>

</html>