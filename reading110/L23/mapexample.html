<html>
<head>
<title>Distance Matrix Example</title>
<script type="text/javascript">
  var ourResponse;
function initialize() {
     var mapOptions = {
          zoom:      8,
          center:    new google.maps.LatLng(-34.397, 150.644),
          mapTypeId: google.maps.MapTypeId.ROADMAP
     }
     var map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);
 
     //INITIALIZE GLOBAL VARIABLES
     var zipCodeStart = new Array('04049');
     var zipCodeDest = new Array('02481');
     var output           = '<tr><th scope="col">From</th><th scope="col">To</th><th scope="col">Miles</th></tr>';
 
     //EXECUTE THE DISTANCE MATRIX QUERY
     var service = new google.maps.DistanceMatrixService();
     service.getDistanceMatrix({
          origins:      zipCodeStart,
          destinations: zipCodeDest,
          travelMode:   google.maps.TravelMode.DRIVING,
          unitSystem:   google.maps.UnitSystem.IMPERIAL
     }, function(response, status) {
       ourResponse = response;
          if(status == google.maps.DistanceMatrixStatus.OK) {
               var origins = response.originAddresses;
               var destinations = response.destinationAddresses;
 
               for(var i=0; i < origins.length; i++) {
                    var results = response.rows[i].elements;
                    for(var j=0; j < results.length; j++) {
                         output += '<tr><td>' + origins[i] + '</td><td>' + destinations[j] + '</td><td>' + results[j].distance.text + '</td></tr>';
                    }
               }
 
               document.getElementById('zip_code_output').innerHTML = '<table cellpadding="5">' + output + '</table>';
          }
     });
}
 
//FUNCTION TO LOAD THE GOOGLE MAPS API
function loadScript() {
     var script  = document.createElement("script");
     script.type = "text/javascript";
     script.src  = "http://maps.googleapis.com/maps/api/js?key=AIzaSyAwnEc2_xJl9KMPJXcsKyjQxHf1mVbGwio&sensor=false&callback=initialize";
     document.body.appendChild(script);
}
 
window.onload = loadScript;
</script>
</head>
<body>
<div id="zip_code_output"></div>
<div id="map_canvas" style="width:650px; height:600px;"></div>
</body>
</html>