<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class Activities</title>
    <!-- use relative pathnames in #include so when this site is archived,
         say as cs110f15, the include refers to the same file -->
    <!--#set var="reltop" value="../../" -->
    <!--#include virtual="../../modularity/bs-head-rel.part" -->
    <style>
      #TOC_list {list-style-type: none;}
    </style>
    
  </head>
  <body>
    <!--#include virtual="../../modularity/navbar-rel.part" -->

    <div class="container">
      <h1>Objects and <code>Date()</code></h1>
      <hr>
    </div>
      
    <div class="container">
      <div class="row">
     
        <div class="col-md-3">
          <div class="bs-sidebar hidden-print" role="complementary">
            <ul class="nav bs-sidenav">  
              <div id="insert_TOC_here"></div>
            </ul>
          </div>
        </div>

        <div class="col-md-8">
<h2>Goal</h2>

<p>By the end of today, you will be able to:
  <ol>
    <li>understand and use vocabulary needed to talk about objects
      
    <li>understand and use <code>Date</code> objects in different ways
      
    <li>write code that performs conditional execution based on dates
      
  </ol>

    
<h2>Objects Summary</h2>

<p>The readings covered a lot of ground; let's take a minute to step back
  and see the big ideas:
  <ul>
    <li>Objects are an important way of organizing information in modern
    programming languages.
      
    <li>An <em>object</em> is a collection of information about a single
    thing, such as a date, a document, an element of a document, an image,
    a Google map location, a Facebook post, ...
      
    <li>Objects sometimes have <em>methods</em>: special functions that
    belong to the object to operate on its data and
    provide <em>behavior</em> for the object.  For example, a date object
    has methods to extract the day, date, and month, and also to set those
    values.
      
  </ul>

<h2>Date Objects</h2>

<p>As a concrete and useful example of objects, we'll start
  with <em>date</em> objects.
  <ul>
    <li>You create them with <code>new Date()</code>
      
    <li>With no arguments, the new object represents the moment of its creation.
      
    <li>There are many ways to create date objects for different
    moments. Usually, we use a string representing a date and, optionally,
    a time. If the time is omitted, it's the same as 0:00:00.

    <li>They have methods like <code>getDay()</code>
    and <code>getFullYear()</code> to retrieve the data.
      
    <li>They also have methods like <code>setDay()</code>
    and <code>setFullYear()</code> to modify the data. (We'll rarely use these.)

    <li>The <code>.toLocaleString()</code> method returns a string with a
    formatted presentation of the date and time, which is very convenient,
    but also a bit inflexible. We can build our own code to format dates
    and times.

  </ul>

  <h2>Quiz Question Nr. 1</h2> 

      <p>Which of the following expressions does not involve an object method?

<ol type="A">
  <li>
    <pre class="prettyprint lang-js">var d = new Date();
d.getTime()</pre>

<li>
    <pre class="prettyprint lang-js">var d = new Date();
d.setMonth(3)</pre>

<li>
    <pre class="prettyprint lang-js">var d = new Date();
alert(d);</pre>

<li>
    <pre class="prettyprint lang-js">(new Date()).toLocaleString();</pre>
</ol>
   
      
      <h2>Quiz Question Nr. 2</h2> 
<p>In which of the following code excerpts, is there no object method
involved? There might be more than one correct answer.</p>

<ol type="A">
  <li>
<pre class="prettyprint lang-js">var name = prompt("what is your name?"); </pre>

  <li>
<pre class="prettyprint lang-js">alert("your name has "+name.length+" letters");</pre>

  <li>
<pre class="prettyprint lang-js">document.querySelector("#username").innerHTML = "Harry Potter";</pre>

  <li>
<pre class="prettyprint lang-js">var e = 2.7182818;
e.toFixed(2);</pre>  
</ol>


<h2>Quiz Question Nr. 3</h2>

<p>Which of the following statements will <strong>not</strong> define a Date object?

<ol type="A">
  <li>

<pre class="prettyprint lang-js">var now = new Date();</pre>

  <li>

<pre class="prettyprint lang-js">var date = new Date("10/20/2015 03:45");</pre>

  <li>

<pre class="prettyprint lang-js">var date = new Date("10/20/2015");</pre>

  <li>
    <pre class="prettyprint">They all define Date objects.</pre></li>

</ol>


<h2>Quiz Question Nr. 4</h2>
<p>Choose the piece of code that will work correctly to greet us if it
    happens to be Halloween.</p>  
          
<ol type="A">
  <li>

<pre class="prettyprint lang-js">
var now = new Date();
if (now.toLocaleDateString() == "10/31/15") {alert("Boo!!");}
</pre>

  <li>

<pre class="prettyprint lang-js">
var now = new Date();
if (now == "10/31/2015") {alert("Boo!!");}
</pre>

<li>

<pre class="prettyprint lang-js">
var now = new Date();
if (now.getDate() == 31 && now.getMonth() == 10) {alert("Boo!!");}
</pre>
    
<li>

<pre class="prettyprint lang-js">
var now = new Date();
if (now.getDate() == 31 && now.getMonth() == 9) {alert("Boo!!");}
</pre>
    
</ol>
          
<h2>Experiment with Dates using the Chrome Inspector</h2>

<p>Using the Chrome Inspector, experiment with various expressions
involving dates. Here is some code you can copy/paste, just to save you a
little typing. However, you should consider typing a few of these, because
it will help you learn the syntax.

<pre class="prettyprint lang-js linenums">
var d = new Date();
d.getHours();
d.getMinutes();
d.getDate();
d.getDay();
d.getMonth();
d.toLocaleString();
d.toLocaleDateString();
d.toLocaleTimeString();
var halloween = (d.getDate() == 31 && d.getMonth() == 9);
</pre>

          
<h2>Exercise 1</h2>

 <p>Write some JavaScript that prompts the user to enter their birthday
   (like "5/5/2005") and displays a message with the day of their
   birthdate. For example, if someone was born on May 5th, 2005, they'll
   see the message "You were born on a Thursday."  To get the name of the
   day, you can use the <code>dayName()</code> function that was described
   in the reading for today.
 </p> 

<form action="">
<div>
<textarea rows=10 cols=80></textarea><br>
<input type=button value="Execute it" 
       onclick="eval(this.parentNode.firstElementChild.value)">
</div>
</form>
          
<p>Your solution might look like this:

<div class="hidden_from_student">
  <pre id="act1_src" class="prettyprint lang-js executable">
    var dateString = prompt("Enter your birthday","5/5/2005");
    var dateObject = new Date(dateString);
    var day = dateObject.getDay();
    var dayOfWeek = dayName(day);
    alert("You were born on a "+day+" which is a "+dayOfWeek);
  </pre>
</div>
  
          
<h2>Exercise 2</h2>
  <p>Write some JavaScript that prompts the user to enter a date string,
    and then displays a message if it is a Friday the 13th. Either way, it
    should alert the user. The Date object methods <code>.getDay()</code>
    and <code>.getDate()</code> will be useful. Use the execution box
    below to test it. Test dates like the following: "2/13/2015",
    "3/13/2015" and "4/13/2015".
   You can use the same execution box above.

<p>Your solution might look like this:

<div class="hidden_from_student">
  <pre id="act2_src" class="prettyprint lang-js executable">
    var dateString = prompt("Enter a date string","2/13/2015");
    var dateObject = new Date(dateString);
    if (dateObject.getDate() == 13 && dateObject.getDay() == 5) {
        alert("Yikes, Friday the 13th!");
    } else {
        alert("Whew, not Friday the 13th!");
    }
  </pre>
</div>
  
          
    
<h2>Exercise 3</h2>

  <p>Write some JavaScript that uses the current clock and tells whether
   the 11:10 class is over (after 12:20).  The 9:50 class could just check
   for hour >= 11, which is too easy. You can use the same execution box above.

<p>Your solution might look like this:

<div class="hidden_from_student">
  <pre id="act3_src" class="prettyprint lang-js executable">
    var now = new Date();
    var hour = now.getHours();
    var mins = now.getMinutes();
    if (hour > 12 || hour == 12 && mins > 20) {
        alert("Outta here!!");
    } else {
        alert("Hang on, not yet");
    }
  </pre>
</div>


<h2>More Information on Dates</h2>

<p>Dates have a method <code>.getTime()</code> that returns the number of
  seconds since 1/1/1970, which is <q>the epoch</q>.  Differences between
  pairs of these is a convenient way to determine time differences, such
  as how long a computation took:

  <pre class="prettyprint lang-js linenums executable">
var before = new Date();
aVeryLongComputation();
var after = new Date();
var diff = after.getTime() - before.getTime();
alert("that took "+diff+" milliseconds");
</pre>


<h2>Summary</h2>

<p>We hope you had fun with the object <code>Date</code>. As you can see
from today's exercises, dates combined with conditionals will allow us to
have pages that do different things on different dates or times.

<ul>

    <li>create Date objects with different constructor arguments.    </li>
    <li>format Date objects in different ways</li>
    <li>use Date objects in boolean expressions</li>

</ul>
  
<h2 id="sec_solutions">Solutions</h2>
  
<p id="solutions_later">Will be posted later, visit again after
  <span id="later"></span>.</p>

<div id="solutions">

<p>Quiz questions:
<pre>
1. C  (Technically, alert() is a method, but we have never described it as such)
2. A, B  Both C and D use methods
3. D: they all define dates
4. D  (A has "/15" instead of "/2015", B compares a date and a string, C is for November)
</pre>

<p>Exercise 1:
  <pre id="act1_dst" class="prettyprint lang-js executable"></pre>

<p>Exercise 2:
  <pre id="act2_dst" class="prettyprint lang-js executable"></pre>

<p>Exercise 3:
  <pre id="act3_dst" class="prettyprint lang-js executable"></pre>

                </div>

    <!--#include virtual="/~cs110/modularity/footer-rel.part" -->
    
    </div> <!--end of container>
        
        
    <!--#include virtual="/~cs110/modularity/bs-footer-rel.part" -->
    <script src="../../js/date-functions.js"></script>
    <script>
      revealLater("3/8/2016 1:00 PM"); 
      copyCode(1);
      copyCode(2);
      copyCode(3);

      function aVeryLongComputation() {
          var before = new Date();
          do {
              var after = new Date();
          } while( (after - before) < 100 );
      }                                      

   </script>

  </body>
</html>
